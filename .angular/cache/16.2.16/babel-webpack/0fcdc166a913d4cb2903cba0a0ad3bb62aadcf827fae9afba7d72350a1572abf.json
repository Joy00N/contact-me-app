{"ast":null,"code":"import { Subject, takeUntil } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../service/account.service\";\nfunction SettingsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"span\", 9);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction SettingsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction SettingsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.successMessage, \" \");\n  }\n}\nfunction SettingsComponent_form_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 12);\n    i0.ɵɵlistener(\"ngSubmit\", function SettingsComponent_form_8_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onSubmit());\n    });\n    i0.ɵɵelementStart(1, \"div\", 13)(2, \"div\", 14)(3, \"h5\", 15);\n    i0.ɵɵtext(4, \"Notification Settings\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 16)(6, \"div\", 17)(7, \"div\", 18);\n    i0.ɵɵelement(8, \"input\", 19);\n    i0.ɵɵelementStart(9, \"label\", 20);\n    i0.ɵɵtext(10, \"Email Notifications\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 17)(12, \"div\", 18);\n    i0.ɵɵelement(13, \"input\", 21);\n    i0.ɵɵelementStart(14, \"label\", 22);\n    i0.ɵɵtext(15, \"Push Notifications\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 17)(17, \"label\", 23);\n    i0.ɵɵtext(18, \"Notification Frequency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"select\", 24)(20, \"option\", 25);\n    i0.ɵɵtext(21, \"Immediate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"option\", 26);\n    i0.ɵɵtext(23, \"Daily\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"option\", 27);\n    i0.ɵɵtext(25, \"Weekly\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"option\", 28);\n    i0.ɵɵtext(27, \"Monthly\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(28, \"div\", 13)(29, \"div\", 14)(30, \"h5\", 15);\n    i0.ɵɵtext(31, \"Display Settings\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\", 16)(33, \"div\", 17)(34, \"label\", 29);\n    i0.ɵɵtext(35, \"Language\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"select\", 30)(37, \"option\", 31);\n    i0.ɵɵtext(38, \"English\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"option\", 32);\n    i0.ɵɵtext(40, \"Spanish\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"option\", 33);\n    i0.ɵɵtext(42, \"French\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"option\", 34);\n    i0.ɵɵtext(44, \"German\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"option\", 35);\n    i0.ɵɵtext(46, \"Italian\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(47, \"div\", 17)(48, \"label\", 36);\n    i0.ɵɵtext(49, \"Timezone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"select\", 37)(51, \"option\", 38);\n    i0.ɵɵtext(52, \"UTC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"option\", 39);\n    i0.ɵɵtext(54, \"Eastern Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"option\", 40);\n    i0.ɵɵtext(56, \"Central Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"option\", 41);\n    i0.ɵɵtext(58, \"Mountain Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"option\", 42);\n    i0.ɵɵtext(60, \"Pacific Time\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(61, \"div\", 17)(62, \"label\", 43);\n    i0.ɵɵtext(63, \"Theme\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(64, \"select\", 44)(65, \"option\", 45);\n    i0.ɵɵtext(66, \"Light\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(67, \"option\", 46);\n    i0.ɵɵtext(68, \"Dark\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"option\", 47);\n    i0.ɵɵtext(70, \"System Default\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(71, \"div\", 48)(72, \"button\", 49);\n    i0.ɵɵtext(73, \" Save Changes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(74, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_form_8_Template_button_click_74_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.resetForm());\n    });\n    i0.ɵɵtext(75, \" Reset \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r3.settingsForm);\n    i0.ɵɵadvance(72);\n    i0.ɵɵproperty(\"disabled\", !ctx_r3.settingsForm.valid || ctx_r3.loading);\n  }\n}\nexport let SettingsComponent = /*#__PURE__*/(() => {\n  class SettingsComponent {\n    constructor(fb, accountService) {\n      this.fb = fb;\n      this.accountService = accountService;\n      this.user = null;\n      this.loading = false;\n      this.error = null;\n      this.successMessage = null;\n      this.destroy$ = new Subject();\n      this.settingsForm = this.fb.group({\n        emailNotifications: [true],\n        pushNotifications: [true],\n        notificationFrequency: ['daily'],\n        language: ['en'],\n        timezone: ['UTC'],\n        theme: ['light']\n      });\n    }\n    ngOnInit() {\n      this.loadUserSettings();\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n    loadUserSettings() {\n      this.loading = true;\n      this.error = null;\n      this.accountService.user.pipe(takeUntil(this.destroy$)).subscribe({\n        next: user => {\n          this.user = user;\n          if (user?.settings) {\n            this.settingsForm.patchValue(user.settings);\n          }\n          this.loading = false;\n        },\n        error: error => {\n          this.error = error.message;\n          this.loading = false;\n        }\n      });\n    }\n    onSubmit() {\n      if (this.settingsForm.valid) {\n        this.loading = true;\n        this.error = null;\n        this.successMessage = null;\n        const settings = this.settingsForm.value;\n        this.accountService.updateUserSettings(settings).pipe(takeUntil(this.destroy$)).subscribe({\n          next: () => {\n            this.successMessage = 'Settings updated successfully';\n            this.loading = false;\n          },\n          error: error => {\n            this.error = error.message;\n            this.loading = false;\n          }\n        });\n      }\n    }\n    resetForm() {\n      this.settingsForm.reset();\n      this.loadUserSettings();\n    }\n    static #_ = this.ɵfac = function SettingsComponent_Factory(t) {\n      return new (t || SettingsComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AccountService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SettingsComponent,\n      selectors: [[\"app-settings\"]],\n      decls: 9,\n      vars: 4,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"row\"], [1, \"col-12\"], [\"class\", \"text-center my-4\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"alert alert-success\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"mt-4\", 3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [1, \"text-center\", \"my-4\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\"], [1, \"mt-4\", 3, \"formGroup\", \"ngSubmit\"], [1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"mb-0\"], [1, \"card-body\"], [1, \"mb-3\"], [1, \"form-check\", \"form-switch\"], [\"type\", \"checkbox\", \"id\", \"emailNotifications\", \"formControlName\", \"emailNotifications\", 1, \"form-check-input\"], [\"for\", \"emailNotifications\", 1, \"form-check-label\"], [\"type\", \"checkbox\", \"id\", \"pushNotifications\", \"formControlName\", \"pushNotifications\", 1, \"form-check-input\"], [\"for\", \"pushNotifications\", 1, \"form-check-label\"], [\"for\", \"notificationFrequency\", 1, \"form-label\"], [\"id\", \"notificationFrequency\", \"formControlName\", \"notificationFrequency\", 1, \"form-select\"], [\"value\", \"immediate\"], [\"value\", \"daily\"], [\"value\", \"weekly\"], [\"value\", \"monthly\"], [\"for\", \"language\", 1, \"form-label\"], [\"id\", \"language\", \"formControlName\", \"language\", 1, \"form-select\"], [\"value\", \"en\"], [\"value\", \"es\"], [\"value\", \"fr\"], [\"value\", \"de\"], [\"value\", \"it\"], [\"for\", \"timezone\", 1, \"form-label\"], [\"id\", \"timezone\", \"formControlName\", \"timezone\", 1, \"form-select\"], [\"value\", \"UTC\"], [\"value\", \"EST\"], [\"value\", \"CST\"], [\"value\", \"MST\"], [\"value\", \"PST\"], [\"for\", \"theme\", 1, \"form-label\"], [\"id\", \"theme\", \"formControlName\", \"theme\", 1, \"form-select\"], [\"value\", \"light\"], [\"value\", \"dark\"], [\"value\", \"system\"], [1, \"d-flex\", \"gap-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"]],\n      template: function SettingsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\");\n          i0.ɵɵtext(4, \"Settings\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(5, SettingsComponent_div_5_Template, 4, 0, \"div\", 3);\n          i0.ɵɵtemplate(6, SettingsComponent_div_6_Template, 2, 1, \"div\", 4);\n          i0.ɵɵtemplate(7, SettingsComponent_div_7_Template, 2, 1, \"div\", 5);\n          i0.ɵɵtemplate(8, SettingsComponent_form_8_Template, 76, 2, \"form\", 6);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  {// webpackBootstrap \\\"use strict\\\";})()[_ngcontent-%COMP%] ;{%BLOCK%}\"]\n    });\n  }\n  return SettingsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}