{"ast":null,"code":"import { User } from '../model/user';\nimport { select } from '@ngrx/store';\nimport { login } from './state/user.actions';\nimport { getIsLoggedIn } from './state/user.selector';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../service/user.service\";\nimport * as i3 from \"@ngrx/store\";\nimport * as i4 from \"@angular/common\";\nfunction SignupComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Sign up to register your contact lense\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 2);\n    i0.ɵɵlistener(\"ngSubmit\", function SignupComponent_div_1_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.save());\n    });\n    i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"label\", 5);\n    i0.ɵɵtext(7, \"Username\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 6);\n    i0.ɵɵelement(9, \"input\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 3)(11, \"div\", 4)(12, \"label\", 8);\n    i0.ɵɵtext(13, \"Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 6);\n    i0.ɵɵelement(15, \"input\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 3)(17, \"div\", 4)(18, \"label\", 10);\n    i0.ɵɵtext(19, \"First Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 6);\n    i0.ɵɵelement(21, \"input\", 11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 3)(23, \"div\", 4)(24, \"label\", 12);\n    i0.ɵɵtext(25, \"Last Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"div\", 6);\n    i0.ɵɵelement(27, \"input\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 3)(29, \"div\", 4)(30, \"label\", 14);\n    i0.ɵɵtext(31, \"Email\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\", 6);\n    i0.ɵɵelement(33, \"input\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"button\", 16);\n    i0.ɵɵtext(35, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"button\", 17);\n    i0.ɵɵtext(37, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.userForm);\n  }\n}\nexport let SignupComponent = /*#__PURE__*/(() => {\n  class SignupComponent {\n    constructor(fb, userService, store) {\n      this.fb = fb;\n      this.userService = userService;\n      this.store = store;\n      this.isLoggedIn = false;\n      this.componentActive = true;\n    }\n    get users() {\n      return this.userForm.get('users');\n    }\n    ngOnInit() {\n      this.userForm = this.fb.group({\n        username: '',\n        password: '',\n        firstName: '',\n        lastName: '',\n        email: ''\n      });\n      this.store.pipe(select(getIsLoggedIn)).subscribe(loggedIn => this.isLoggedIn = loggedIn);\n    }\n    handleLogin(value) {\n      this.store.dispatch(login());\n    }\n    save() {\n      const user = new User();\n      user.username = this.userForm.get('username').value;\n      user.password = this.userForm.get('password').value;\n      user.firstName = this.userForm.get('firstName').value;\n      user.lastName = this.userForm.get('lastName').value;\n      user.email = this.userForm.get('email').value;\n      this.userService.setUsers(user);\n      // this.isLoggedIn = true;\n      this.handleLogin(true);\n      this.loggedinUser = user;\n    }\n    ngOnDestroy() {\n      this.componentActive = false;\n    }\n    static #_ = this.ɵfac = function SignupComponent_Factory(t) {\n      return new (t || SignupComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Store));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SignupComponent,\n      selectors: [[\"app-signup\"]],\n      decls: 2,\n      vars: 1,\n      consts: [[1, \"container\"], [4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"row\"], [1, \"col-sm-2\"], [\"for\", \"username\", 1, \"col-form-label\", \"pl-0\"], [1, \"col-sm-4\"], [\"id\", \"username\", \"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\", \"field\"], [\"for\", \"password\", 1, \"col-form-label\", \"pl-0\"], [\"id\", \"password\", \"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\"], [\"for\", \"firstName\", 1, \"col-form-label\", \"pl-0\"], [\"id\", \"firstName\", \"type\", \"text\", \"formControlName\", \"firstName\", 1, \"form-control\"], [\"for\", \"lastName\", 1, \"col-form-label\", \"pl-0\"], [\"id\", \"lastName\", \"type\", \"text\", \"formControlName\", \"lastName\", 1, \"form-control\"], [\"for\", \"email\", 1, \"col-form-label\", \"pl-0\"], [\"id\", \"email\", \"type\", \"email\", \"placeholder\", \"name@example.com\", \"formControlName\", \"email\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\"]],\n      template: function SignupComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, SignupComponent_div_1_Template, 38, 1, \"div\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\n        }\n      },\n      dependencies: [i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName]\n    });\n  }\n  return SignupComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}